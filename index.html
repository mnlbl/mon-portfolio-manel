<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Portfolio - Salon √âl√©gant</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Times New Roman', serif;
            background: #59372b;
            color: #f7e7ce;
            overflow: hidden;
            cursor: grab;
        }

        body:active {
            cursor: grabbing;
        }

        /* Avis pour tous appareils */
        .device-notice {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(89, 55, 43, 0.98);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.5s ease-out;
        }

        .notice-content {
            text-align: center;
            padding: 40px;
            background: #59372b;
            border-radius: 16px;
            border: 2px solid #9f624f;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
        }

        .notice-content h2 {
            color: #cca98d;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: bold;
            font-family: 'Times New Roman', serif;
        }

        .notice-content p {
            margin-bottom: 20px;
            line-height: 1.6;
            color: #f7e7ce;
            font-size: 14px;
        }

        .continue-btn {
            background: linear-gradient(135deg, #cca98d, #9f624f);
            border: 2px solid #ae9e8f;
            padding: 12px 24px;
            color: #59372b;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-family: 'Times New Roman', serif;
            transition: all 0.3s ease;
            text-shadow: none;
        }

        .continue-btn:hover {
            background: linear-gradient(135deg, #9f624f, #cca98d);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(204, 169, 141, 0.3);
        }

        /* Interface utilisateur */
        .ui-overlay {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
            opacity: 0;
            animation: slideIn 1s ease-out 2s forwards;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #cca98d;
            margin-bottom: 15px;
            font-family: 'Times New Roman', serif;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .instructions {
            background: rgba(89, 55, 43, 0.95);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #9f624f;
            max-width: 250px;
            backdrop-filter: blur(10px);
        }

        .instructions h3 {
            color: #cca98d;
            margin-bottom: 12px;
            font-size: 16px;
            font-weight: bold;
            font-family: 'Times New Roman', serif;
        }

        .instructions p {
            font-size: 12px;
            line-height: 1.5;
            margin-bottom: 6px;
            color: #f7e7ce;
        }

        /* Contr√¥les mobile */
        .mobile-controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 150;
            display: flex;
            gap: 10px;
            opacity: 0;
            animation: slideIn 1s ease-out 2s forwards;
        }

        .mobile-btn {
            background: rgba(89, 55, 43, 0.95);
            border: 2px solid #9f624f;
            padding: 12px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            color: #f7e7ce;
            font-family: 'Times New Roman', serif;
        }

        .mobile-btn:hover {
            background: rgba(204, 169, 141, 0.2);
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(204, 169, 141, 0.3);
        }

        /* Ordinateur overlay */
        .computer-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 200;
            opacity: 0;
            visibility: hidden;
            transition: all 0.6s ease;
        }

        .computer-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .computer-screen {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.3);
            width: min(95vw, 1024px);
            height: min(80vh, 768px);
            background: #000;
            border: 20px solid #c0c0c0;
            border-radius: 15px;
            transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .computer-overlay.active .computer-screen {
            transform: translate(-50%, -50%) scale(1);
        }

        .screen-content {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #008080, #20b2aa);
            position: relative;
            overflow: hidden;
            font-family: 'Courier New', monospace;
        }

        .taskbar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40px;
            background: linear-gradient(to bottom, #c0c0c0, #a0a0a0);
            border-top: 2px solid #e0e0e0;
            display: flex;
            align-items: center;
            padding: 0 10px;
        }

        .start-button {
            background: linear-gradient(to bottom, #c0c0c0, #a0a0a0);
            border: 2px outset #c0c0c0;
            padding: 5px 15px;
            font-weight: bold;
            cursor: pointer;
            font-size: 12px;
        }

        .window {
            position: absolute;
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            min-width: 300px;
            min-height: 200px;
            display: none;
            z-index: 1000;
        }

        .window.active {
            display: block;
        }

        .window-header {
            background: linear-gradient(to right, #000080, #4169e1);
            color: white;
            padding: 2px 5px;
            font-size: 11px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
        }

        .window-controls {
            display: flex;
            gap: 2px;
        }

        .window-control {
            width: 16px;
            height: 14px;
            background: #c0c0c0;
            border: 1px outset #c0c0c0;
            cursor: pointer;
            font-size: 9px;
            text-align: center;
            line-height: 12px;
        }

        .window-content {
            padding: 10px;
            height: calc(100% - 25px);
            overflow-y: auto;
            background: white;
            font-size: 12px;
            line-height: 1.4;
        }

        .desktop-icon {
            position: absolute;
            width: 64px;
            height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 5px;
            border-radius: 3px;
            transition: background 0.2s;
        }

        .desktop-icon:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .desktop-icon .icon {
            width: 32px;
            height: 32px;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 16px;
        }

        .icon-text {
            color: white;
            font-size: 11px;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        .close-computer {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #cca98d;
            color: #59372b;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            z-index: 300;
            font-family: 'Times New Roman', serif;
        }

        .close-computer:hover {
            background: #9f624f;
            transform: translateY(-1px);
        }

        .experience-item {
            background: #f0f0f0;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px inset #c0c0c0;
        }

        .experience-title {
            font-weight: bold;
            color: #000080;
            margin-bottom: 3px;
        }

        .experience-company {
            font-style: italic;
            color: #666;
            font-size: 11px;
            margin-bottom: 5px;
        }

        .linkedin-link {
            color: #0000ee;
            text-decoration: underline;
            cursor: pointer;
        }

        .linkedin-link:hover {
            color: #ff0000;
        }

        /* TV Overlay */
        .tv-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 200;
            opacity: 0;
            visibility: hidden;
            transition: all 0.6s ease;
        }

        .tv-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .tv-screen {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.3);
            width: min(90vw, 900px);
            height: min(75vh, 600px);
            background: #000;
            border: 30px solid #222;
            border-radius: 20px;
            transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.7);
        }

        .tv-overlay.active .tv-screen {
            transform: translate(-50%, -50%) scale(1);
        }

        .tv-content {
            width: 100%;
            height: 100%;
            background: #1a1a1a;
            position: relative;
            border-radius: 10px;
            overflow: hidden;
        }

        .tv-header {
            background: linear-gradient(135deg, #cca98d 0%, #9f624f 100%);
            padding: 20px;
            color: #59372b;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            font-family: 'Times New Roman', serif;
        }

        .app-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px;
            height: calc(100% - 80px);
        }

        .app-item {
            background: linear-gradient(135deg, #9f624f, #cca98d);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #59372b;
            font-weight: bold;
            font-size: 16px;
            font-family: 'Times New Roman', serif;
            border: 2px solid #cca98d;
            min-height: 120px;
        }

        .app-item:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(204, 169, 141, 0.4);
            background: linear-gradient(135deg, #cca98d, #9f624f);
        }

        .app-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .close-tv {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #cca98d;
            color: #59372b;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            z-index: 300;
            font-family: 'Times New Roman', serif;
        }

        .close-tv:hover {
            background: #9f624f;
            transform: translateY(-1px);
        }

        /* Indicateurs visuels pour objets interactifs */
        .interactive-hint {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(89, 55, 43, 0.9);
            color: #cca98d;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 150;
            border: 1px solid #9f624f;
        }

        .interactive-hint.show {
            opacity: 1;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .computer-screen, .tv-screen {
                width: 95vw;
                height: 80vh;
                border-width: 10px;
            }

            .ui-overlay {
                top: 10px;
                left: 10px;
            }

            .instructions {
                max-width: 200px;
                padding: 15px;
            }

            .logo {
                font-size: 20px;
            }

            .notice-content {
                padding: 30px 20px;
            }

            .notice-content h2 {
                font-size: 20px;
            }

            .window {
                min-width: 280px;
                width: 90vw !important;
                height: 70vh !important;
            }

            .app-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
                padding: 20px;
            }

            .mobile-controls {
                flex-wrap: wrap;
                max-width: 90%;
            }

            .mobile-btn {
                padding: 10px 12px;
                font-size: 11px;
            }
        }

        @media (max-width: 480px) {
            .app-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Touch-friendly controls */
        @media (hover: none) {
            .interactive-hint {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Avis pour tous appareils -->
    <div class="device-notice" id="deviceNotice">
        <div class="notice-content">
            <h2>Bienvenue dans mon salon</h2>
            <p>D√©couvrez un espace √©l√©gant avec une exp√©rience immersive.</p>
            <p>Navigation : Glissez pour explorer, pincez pour zoomer sur mobile, ou utilisez les boutons de contr√¥le.</p>
            <p>Cliquez sur l'ordinateur ou la t√©l√©vision pour d√©couvrir mon portfolio.</p>
            <button class="continue-btn" onclick="hideNotice()">Entrer dans le salon</button>
        </div>
    </div>

    <!-- Interface utilisateur -->
    <div class="ui-overlay">
        <div class="logo">Portfolio</div>
        <div class="instructions">
            <h3>Navigation</h3>
            <p>‚Ä¢ Glisser pour explorer</p>
            <p>‚Ä¢ Pincer/molette pour zoomer</p>
            <p>‚Ä¢ Cliquez sur l'ordinateur ou la TV</p>
            <p>‚Ä¢ Utilisez les boutons mobiles</p>
        </div>
    </div>

    <!-- Contr√¥les mobiles -->
    <div class="mobile-controls">
        <button class="mobile-btn" onclick="resetCamera()">Vue d'ensemble</button>
        <button class="mobile-btn" onclick="focusComputer()">Ordinateur</button>
        <button class="mobile-btn" onclick="focusTV()">T√©l√©vision</button>
        <button class="mobile-btn" onclick="autoRotate()">Rotation auto</button>
    </div>

    <!-- Indicateur d'interaction -->
    <div class="interactive-hint" id="interactiveHint"></div>

    <!-- Overlay de l'ordinateur -->
    <div class="computer-overlay" id="computerOverlay">
        <button class="close-computer" onclick="closeComputer()">‚úï Fermer</button>
        <div class="computer-screen">
            <div class="screen-content">
                <!-- Ic√¥nes du bureau -->
                <div class="desktop-icon" style="top: 50px; left: 50px;" onclick="openWindow('about')">
                    <div class="icon" style="background: #0080ff;">i</div>
                    <div class="icon-text">√Ä Propos</div>
                </div>
                <div class="desktop-icon" style="top: 50px; left: 150px;" onclick="openWindow('education')">
                    <div class="icon" style="background: #ff8000;">üìö</div>
                    <div class="icon-text">√âducation</div>
                </div>
                <div class="desktop-icon" style="top: 150px; left: 50px;" onclick="openWindow('experience')">
                    <div class="icon" style="background: #008000;">üíº</div>
                    <div class="icon-text">Exp√©rience</div>
                </div>
                <div class="desktop-icon" style="top: 150px; left: 150px;" onclick="openWindow('volunteer')">
                    <div class="icon" style="background: #800080;">‚ù§Ô∏è</div>
                    <div class="icon-text">B√©n√©volat</div>
                </div>
                <div class="desktop-icon" style="top: 250px; left: 50px;" onclick="openWindow('awards')">
                    <div class="icon" style="background: #ffd700;">üèÜ</div>
                    <div class="icon-text">Prix</div>
                </div>
                <div class="desktop-icon" style="top: 250px; left: 150px;" onclick="openWindow('skills')">
                    <div class="icon" style="background: #ff4500;">‚ö°</div>
                    <div class="icon-text">Comp√©tences</div>
                </div>

                <!-- Barre des t√¢ches -->
                <div class="taskbar">
                    <div class="start-button">D√©marrer</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay de la t√©l√©vision -->
    <div class="tv-overlay" id="tvOverlay">
        <button class="close-tv" onclick="closeTV()">‚úï Fermer</button>
        <div class="tv-screen">
            <div class="tv-content">
                <div class="tv-header">
                    üì∫ Divertissements 
                </div>
                <div class="app-grid">
                    <div class="app-item" onclick="openApp('netflix')">
                        <div class="app-icon">üé¨</div>
                        <div>Netflix</div>
                    </div>
                    <div class="app-item" onclick="openApp('youtube')">
                        <div class="app-icon">üì∫</div>
                        <div>YouTube</div>
                    </div>
                    <div class="app-item" onclick="openApp('spotify')">
                        <div class="app-icon">üéµ</div>
                        <div>Spotify</div>
                    </div>
                    <div class="app-item" onclick="openApp('prime')">
                        <div class="app-icon">üì¶</div>
                        <div>Prime Video</div>
                    </div>
                    <div class="app-item" onclick="openApp('disney')">
                        <div class="app-icon">üè∞</div>
                        <div>Disney+</div>
                    </div>
                    <div class="app-item" onclick="openApp('games')">
                        <div class="app-icon">üéÆ</div>
                        <div>Jeux</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fen√™tres du portfolio -->
    <div class="window" id="window-about" style="top: 100px; left: 300px; width: 500px; height: 400px;">
        <div class="window-header">
            √Ä Propos
            <div class="window-controls">
                <div class="window-control" onclick="closeWindow('about')">√ó</div>
            </div>
        </div>
        <div class="window-content" style="color: #59372b;">
            <p><strong>√âtudiante en TI passionn√©e de cybers√©curit√©, programmation, donn√©e et gouvernance.</strong></p>
            <br>
            <p>J'adore les documentaires et tout ce qui touche aux donn√©es. Mon approche combine cr√©ativit√© et rigueur technique pour cr√©er des solutions innovantes.</p>
            <br>
            <p>Actuellement en ma√Ætrise en technologies de l'information √† l'UQAM, je d√©veloppe mes comp√©tences dans un environnement acad√©mique stimulant tout en appliquant mes connaissances dans des projets concrets.</p>
            <br>
            <a href="https://www.linkedin.com/in/manelbaali/" target="_blank" class="linkedin-link">üîó Mon profil Linkedin</a>
            <br><br>
            <p><strong>Mes passions :</strong></p>
            <ul>
                <li>Cybers√©curit√©, gouvernance et protection des donn√©es</li>
                <li>D√©veloppement et programmation</li>
                <li>UX Design et exp√©rience utilisateur</li>
                <li>Analyse de donn√©es et documentaires</li>
            </ul>
        </div>
    </div>

    <!-- Autres fen√™tres (√©ducation, exp√©rience, etc.) -->
    <div class="window" id="window-education" style="top: 120px; left: 320px; width: 550px; height: 450px;">
        <div class="window-header">
            √âducation
            <div class="window-controls">
                <div class="window-control" onclick="closeWindow('education')">√ó</div>
            </div>
        </div>
        <div class="window-content" style="color: #1a1611;">
            <div class="experience-item">
                <div class="experience-title">Ma√Ætrise en technologies de l'information</div>
                <div class="experience-company">UQAM - En cours</div>
                <p>Approfondissement des connaissances en TI avec focus sur l'innovation et la recherche appliqu√©e.</p>
            </div>
            <div class="experience-item">
                <div class="experience-title">Baccalaur√©at en administration - TI</div>
                <div class="experience-company">UQAM - Mention Honneur (Acquis)</div>
                <p>Concentration technologies de l'information, alliance entre gestion et technique.</p>
            </div>
            <div class="experience-item">
                <div class="experience-title">DEC Affaires internationales</div>
                <div class="experience-company">Coll√®ge Dawson (Acquis)</div>
                <p>Formation polyvalente ouvrant sur le monde et les enjeux globaux.</p>
            </div>
            <div class="experience-item">
                <div class="experience-title">DES Sciences enrichi</div>
                <div class="experience-company">√âcole secondaire Henri-Bourassa (Acquis)</div>
                <p>Formation scientifique solide comme base de mes √©tudes sup√©rieures.</p>
            </div>
        </div>
    </div>

    <div class="window" id="window-experience" style="top: 80px; left: 280px; width: 600px; height: 500px;">
        <div class="window-header">
            Exp√©rience professionnelle
            <div class="window-controls">
                <div class="window-control" onclick="closeWindow('experience')">√ó</div>
            </div>
        </div>
        <div class="window-content" style="color: #1a1611;">
            <div class="experience-item">
                <div class="experience-title">Conseill√®re en gestion de l'information</div>
                <div class="experience-company">MIFI - Juin 2025 √† aujourd'hui</div>
                <p>Appui strat√©gique au Secr√©tariat g√©n√©ral. Conseil en gouvernance documentaire, d√©veloppement du greffe num√©rique, programmation et automatisation (JSON, Python, tableaux de bord).</p>
            </div>
            <div class="experience-item">
                <div class="experience-title">Agente conseil, Exp√©rience membre</div>
                <div class="experience-company">Desjardins - F√©vr. 2022 √† Mai 2025</div>
                <p>Support polyvalent : accueil, services aux membres, d√©nombrement. Gestion d'op√©rations complexes, assistance fraude, gestion compl√®te de caisse.</p>
            </div>
            <div class="experience-item">
                <div class="experience-title">Agente services aux membres</div>
                <div class="experience-company">Desjardins - Nov. 2021 √† F√©vr. 2022</div>
                <p>Accompagnement des membres, transactions mon√©taires, promotion de l'autonomie num√©rique et conseil personnalis√©.</p>
            </div>
            <div class="experience-item">
                <div class="experience-title">Agente de R√©ception</div>
                <div class="experience-company">BravoTelecom-Vid√©otron - Sept. √† Nov. 2021</div>
                <p>Accueil, gestion des dossiers et activation de services de t√©l√©communication.</p>
            </div>
        </div>
    </div>

    <div class="window" id="window-volunteer" style="top: 100px; left: 300px; width: 580px; height: 480px;">
        <div class="window-header">
            B√©n√©volat & Engagement
            <div class="window-controls">
                <div class="window-control" onclick="closeWindow('volunteer')">√ó</div>
            </div>
        </div>
        <div class="window-content" style="color: #1a1611;">
            <div class="experience-item">
                <div class="experience-title">Agente des imp√¥ts</div>
                <div class="experience-company">Revenu Qu√©bec - F√©vr. 2020 √† Avr. 2023</div>
                <p>R√©alisation de d√©clarations de revenus pour personnes en situation fiscale simple. Autonomisation √©conomique.</p>
            </div>
            <div class="experience-item">
                <div class="experience-title">B√©n√©vole d'accueil</div>
                <div class="experience-company">Dawson College - Nov. 2019 √† Mars 2021</div>
                <p>Assistance au coordonnateur, ressources pour √©tudiants internationaux, facilitation d'int√©gration.</p>
            </div>
            <div class="experience-item">
                <div class="experience-title">Radio √©tudiante</div>
                <div class="experience-company">Boscoville - Oct. 2014 √† Mai 2019</div>
                <p>Chroniques, articles, repr√©sentation des jeunes adultes aupr√®s des instances municipales.</p>
            </div>
            <div class="experience-item">
                <div class="experience-title">D√©veloppement communautaire</div>
                <div class="experience-company">Coup de pouce jeunesse - Sept. 2015 √† Mars 2016</div>
                <p>Intervention aupr√®s des familles d√©favoris√©es, conf√©rences pers√©v√©rance scolaire et pr√©vention.</p>
            </div>
        </div>
    </div>

    <div class="window" id="window-awards" style="top: 120px; left: 320px; width: 520px; height: 420px;">
        <div class="window-header">
            Prix & Distinctions
            <div class="window-controls">
                <div class="window-control" onclick="closeWindow('awards')">√ó</div>
            </div>
        </div>
        <div class="window-content" style="color: #1a1611;">
            <div class="experience-item">
                <div class="experience-title">Bourses H√©l√®ne et Jean-Louis-Tass√©</div>
                <div class="experience-company">Fondation de l'UQAM - Mai 2025</div>
                <p>Excellence universitaire reconnue par l'√âcole des sciences de la gestion.</p>
            </div>
            <div class="experience-item">
                <div class="experience-title">Bourse Richard-Guay</div>
                <div class="experience-company">Fondation de l'UQAM - D√©c. 2024</div>
                <p>Dossier acad√©mique soutenu avec moyenne sup√©rieure √† 3.5/4.3.</p>
            </div>
            <div class="experience-item">
                <div class="experience-title">Bourse d'excellence acad√©mique</div>
                <div class="experience-company">Fondation de l'UQAM - Janv. 2023</div>
                <p>Reconnaissance du dossier acad√©mique soutenu pour les femmes en STEM.</p>
            </div>
        </div>
    </div>

    <div class="window" id="window-skills" style="top: 80px; left: 280px; width: 580px; height: 500px;">
        <div class="window-header">
            Comp√©tences techniques
            <div class="window-controls">
                <div class="window-control" onclick="closeWindow('skills')">√ó</div>
            </div>
        </div>
        <div class="window-content" style="color: #59372b;">
            <p><strong>Analyse et donn√©es :</strong></p>
            <ul>
                <li>Big Data, SQL, NoSQL, Pandas</li>
                <li>Python, SAS, MATLAB, R</li>
                <li>Tableau Desktop & Prep Builder</li>
                <li>Microsoft Power BI, Google Analytics</li>
                <li>Tableaux crois√©s dynamiques</li>
            </ul>
            <br>
            <p><strong>D√©veloppement et programmation :</strong></p>
            <ul>
                <li>HTML5, JavaScript</li>
                <li>C++, CSS, Java</li>
                <li>Node.js</li>
                <li>Git, GitHub, DevOps</li>
            </ul>
            <br>
            <p><strong>Design et UX :</strong></p>
            <ul>
                <li>Figma, Adobe Creative Suite</li>
                <li>Prototypage, Wireframing</li>
                <li>Tests utilisateurs, Personas</li>
                <li>Design thinking, Accessibilit√©</li>
            </ul>
            <br>
            <p><strong>Langues :</strong></p>
            <ul>
                <li><strong>Fran√ßais :</strong> Bilingue</li>
                <li><strong>Anglais :</strong> Bilingue</li>
                <li><strong>Berb√®re :</strong> Bilingue</li>
                <li><strong>Arabe :</strong> Comp√©tence professionnelle limit√©e</li>
            </ul>
            <br>
            <p><strong>Soft skills :</strong></p>
            <ul>
                <li>R√©solution de probl√®mes</li>
                <li>Gestion du temps</li>
                <li>Adaptabilit√©</li>
                <li>Sens de confidentialit√©</li>
            </ul>
        </div>
    </div>

    <script>
        // Variables globales
        let scene, camera, renderer;
        let salon, computerMesh, tvMesh, chandelierMesh;
        let mouse = new THREE.Vector2();
        let raycaster = new THREE.Raycaster();
        let clickableObjects = [];
        let autoRotateEnabled = false;

        // Contr√¥les de cam√©ra am√©lior√©s pour mobile
        let cameraControls = {
            isMouseDown: false,
            mouseX: 0,
            mouseY: 0,
            targetRotationX: 0,
            targetRotationY: 0,
            rotationX: 0,
            rotationY: 0,
            distance: 25,
            targetDistance: 25,
            autoRotate: false
        };

        // Variables pour les contr√¥les tactiles
        let touches = [];
        let lastPinchDistance = 0;

        function hideNotice() {
            document.getElementById('deviceNotice').style.display = 'none';
            init();
            animate();
        }

        function createClickSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(600, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(300, audioContext.currentTime + 0.15);
                
                gainNode.gain.setValueAtTime(0.08, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.15);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.15);
            } catch (e) {
                console.log('Audio non support√©');
            }
        }

        function showHint(text) {
            const hint = document.getElementById('interactiveHint');
            hint.textContent = text;
            hint.classList.add('show');
        }

        function hideHint() {
            const hint = document.getElementById('interactiveHint');
            hint.classList.remove('show');
        }

        // Fonctions de contr√¥le mobile
        function resetCamera() {
            cameraControls.targetRotationX = 0;
            cameraControls.targetRotationY = 0;
            cameraControls.targetDistance = 25;
            cameraControls.autoRotate = false;
            autoRotateEnabled = false;
            createClickSound();
        }

        function focusComputer() {
            cameraControls.targetRotationX = Math.PI / 6;
            cameraControls.targetRotationY = 0;
            cameraControls.targetDistance = 15;
            cameraControls.autoRotate = false;
            autoRotateEnabled = false;
            createClickSound();
        }

        function focusTV() {
            cameraControls.targetRotationX = Math.PI;
            cameraControls.targetRotationY = 0;
            cameraControls.targetDistance = 18;
            cameraControls.autoRotate = false;
            autoRotateEnabled = false;
            createClickSound();
        }

        function autoRotate() {
            autoRotateEnabled = !autoRotateEnabled;
            cameraControls.autoRotate = autoRotateEnabled;
            createClickSound();
        }

        function init() {
            // Sc√®ne avec brouillard pour l'atmosph√®re
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x59372b);
            scene.fog = new THREE.Fog(0x59372b, 30, 100);

            // Cam√©ra positionn√©e pour voir l'environnement urbain
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 12, 30);
            camera.lookAt(0, 5, 0);

            // Renderer avec ombres am√©lior√©es
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            renderer.setClearColor(0x59372b);
            document.body.appendChild(renderer.domElement);

            // √âclairage avec nouveau th√®me beige
            setupElegantLighting();

            // Cr√©er l'environnement urbain r√©organis√©
            createUrbanEnvironment();

            // Cr√©er le salon avec nouveau th√®me
            createElegantSalon();

            // Event listeners am√©lior√©s pour mobile
            setupEventListeners();
        }

        function setupElegantLighting() {
            // Lumi√®re ambiante chaude dans les tons beige
            const ambientLight = new THREE.AmbientLight(0xf7e7ce, 0.4);
            scene.add(ambientLight);

            // Lumi√®re principale du lustre
            const chandelierLight = new THREE.PointLight(0xcca98d, 1.5, 35);
            chandelierLight.position.set(0, 10, 0);
            chandelierLight.castShadow = true;
            chandelierLight.shadow.mapSize.width = 2048;
            chandelierLight.shadow.mapSize.height = 2048;
            chandelierLight.shadow.camera.near = 1;
            chandelierLight.shadow.camera.far = 35;
            scene.add(chandelierLight);

            // √âclairage directionnel doux
            const mainLight = new THREE.DirectionalLight(0xf7e7ce, 0.5);
            mainLight.position.set(15, 20, 10);
            mainLight.castShadow = true;
            mainLight.shadow.mapSize.width = 2048;
            mainLight.shadow.mapSize.height = 2048;
            mainLight.shadow.camera.near = 1;
            mainLight.shadow.camera.far = 60;
            scene.add(mainLight);

            // Lumi√®res d'accentuation dans les tons beige
            const warmLight1 = new THREE.PointLight(0xae9e8f, 0.8, 25);
            warmLight1.position.set(-12, 6, 5);
            scene.add(warmLight1);

            const warmLight2 = new THREE.PointLight(0x9f624f, 0.7, 20);
            warmLight2.position.set(12, 5, -5);
            scene.add(warmLight2);

            // √âclairage des fen√™tres
            const windowLight = new THREE.PointLight(0xcca98d, 1, 15);
            windowLight.position.set(0, 8, -18);
            scene.add(windowLight);
        }

        function createUrbanEnvironment() {
            // Sol pav√© avec nouveau th√®me
            createStylishStreet();
            
            // B√¢timents environnants repositionn√©s
            createSurroundingBuildings();
            
            // √âl√©ments urbains repositionn√©s
            createUrbanElements();
        }

        function createStylishStreet() {
            const streetGroup = new THREE.Group();
            
            // Base de rue avec couleurs beige
            const streetGeometry = new THREE.PlaneGeometry(150, 150);
            const streetMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f,
                transparent: true,
                opacity: 0.8
            });
            const street = new THREE.Mesh(streetGeometry, streetMaterial);
            street.rotation.x = -Math.PI / 2;
            street.position.y = -0.5;
            street.receiveShadow = true;
            streetGroup.add(street);

            // Texture de pav√©s dans les tons beige
            for (let i = 0; i < 200; i++) {
                const cobbleGeometry = new THREE.BoxGeometry(
                    0.8 + Math.random() * 0.4,
                    0.1,
                    0.8 + Math.random() * 0.4
                );
                const baseColor = Math.random() > 0.5 ? 0xae9e8f : 0xcca98d;
                const variation = Math.random() * 0x202020;
                const cobbleColor = baseColor + variation;
                const cobbleMaterial = new THREE.MeshLambertMaterial({ color: cobbleColor });
                const cobble = new THREE.Mesh(cobbleGeometry, cobbleMaterial);
                
                cobble.position.set(
                    (Math.random() - 0.5) * 140,
                    -0.4,
                    (Math.random() - 0.5) * 140
                );
                cobble.rotation.y = Math.random() * Math.PI;
                cobble.receiveShadow = true;
                streetGroup.add(cobble);
            }

            scene.add(streetGroup);
        }

        function createSurroundingBuildings() {
            // Repositionner les b√¢timents pour un meilleur √©quilibre esth√©tique
            createStylishHouse(-45, 0, -30, 0x9f624f);
            createStylishHouse(-45, 0, 30, 0xae9e8f);
            
            createStylishHouse(45, 0, -25, 0xcca98d);
            createStylishHouse(45, 0, 25, 0x9f624f);
            
            // B√¢timent au fond repositionn√©
            createInstitutionalBuilding(-25, 0, -60);
        }

        function createStylishHouse(x, y, z, color) {
            const houseGroup = new THREE.Group();
            
            // Corps principal avec couleurs beige
            const mainGeometry = new THREE.BoxGeometry(12, 15, 10);
            const mainMaterial = new THREE.MeshLambertMaterial({ color: color });
            const mainBuilding = new THREE.Mesh(mainGeometry, mainMaterial);
            mainBuilding.position.y = 7.5;
            mainBuilding.castShadow = true;
            houseGroup.add(mainBuilding);

            // Toit dans les tons beige fonc√©
            const roofGeometry = new THREE.ConeGeometry(8, 6, 4);
            const roofMaterial = new THREE.MeshLambertMaterial({ color: 0x59372b });
            const roof = new THREE.Mesh(roofGeometry, roofMaterial);
            roof.position.y = 18;
            roof.rotation.y = Math.PI / 4;
            roof.castShadow = true;
            houseGroup.add(roof);

            // Chemin√©e
            const chimneyGeometry = new THREE.BoxGeometry(1.5, 4, 1.5);
            const chimneyMaterial = new THREE.MeshLambertMaterial({ color: 0x59372b });
            const chimney = new THREE.Mesh(chimneyGeometry, chimneyMaterial);
            chimney.position.set(3, 19, 2);
            chimney.castShadow = true;
            houseGroup.add(chimney);

            // Fen√™tres avec cadres beige clair
            createStylishWindows(houseGroup);

            houseGroup.position.set(x, y, z);
            scene.add(houseGroup);
        }

        function createStylishWindows(parent) {
            const windowPositions = [
                [-4, 5, 5.1], [0, 5, 5.1], [4, 5, 5.1],
                [-4, 10, 5.1], [0, 10, 5.1], [4, 10, 5.1]
            ];

            windowPositions.forEach(pos => {
                // Cadre de fen√™tre beige clair
                const frameGeometry = new THREE.BoxGeometry(2.5, 3, 0.2);
                const frameMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
                const frame = new THREE.Mesh(frameGeometry, frameMaterial);
                frame.position.set(...pos);
                parent.add(frame);

                // Vitre avec reflet dor√©
                const glassGeometry = new THREE.BoxGeometry(2.2, 2.7, 0.05);
                const glassMaterial = new THREE.MeshLambertMaterial({ 
                    color: 0xcca98d, 
                    transparent: true, 
                    opacity: 0.7,
                    emissive: 0x443322,
                    emissiveIntensity: 0.1
                });
                const glass = new THREE.Mesh(glassGeometry, glassMaterial);
                glass.position.set(pos[0], pos[1], pos[2] + 0.1);
                parent.add(glass);

                // Lumi√®re chaude derri√®re les fen√™tres
                const windowLight = new THREE.PointLight(0xcca98d, 0.4, 8);
                windowLight.position.set(pos[0], pos[1], pos[2] - 2);
                parent.add(windowLight);
            });
        }

        function createInstitutionalBuilding(x, y, z) {
            const buildingGroup = new THREE.Group();
            
            // B√¢timent dans les tons beige
            const mainGeometry = new THREE.BoxGeometry(30, 20, 8);
            const mainMaterial = new THREE.MeshLambertMaterial({ color: 0xcca98d });
            const mainBuilding = new THREE.Mesh(mainGeometry, mainMaterial);
            mainBuilding.position.y = 10;
            mainBuilding.castShadow = true;
            buildingGroup.add(mainBuilding);

            // Colonnade beige clair
            for (let i = 0; i < 7; i++) {
                const columnGeometry = new THREE.CylinderGeometry(0.8, 1, 16, 16);
                const columnMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
                const column = new THREE.Mesh(columnGeometry, columnMaterial);
                column.position.set(-12 + i * 4, 8, 5);
                column.castShadow = true;
                buildingGroup.add(column);
            }

            buildingGroup.position.set(x, y, z);
            scene.add(buildingGroup);
        }

        function createUrbanElements() {
            // Fontaine repositionn√©e loin du salon
            createElegantFountain(-40, 0, -40);
            
            // R√©verb√®res repositionn√©s
            createStylishStreetLamps();
            
            // Arbres repositionn√©s esth√©tiquement
            createBeautifulTrees();
        }

        function createElegantFountain(x, y, z) {
            const fountainGroup = new THREE.Group();
            
            // Bassin dans les tons beige
            const basinGeometry = new THREE.CylinderGeometry(6, 6, 1.5, 24);
            const basinMaterial = new THREE.MeshLambertMaterial({ color: 0xcca98d });
            const basin = new THREE.Mesh(basinGeometry, basinMaterial);
            basin.position.y = 0.75;
            basin.castShadow = true;
            fountainGroup.add(basin);

            // Eau
            const waterGeometry = new THREE.CylinderGeometry(5.5, 5.5, 0.8, 24);
            const waterMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f, 
                transparent: true, 
                opacity: 0.7 
            });
            const water = new THREE.Mesh(waterGeometry, waterMaterial);
            water.position.y = 1.1;
            fountainGroup.add(water);

            // Colonne centrale
            const columnGeometry = new THREE.CylinderGeometry(1.5, 2, 6, 16);
            const columnMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
            const column = new THREE.Mesh(columnGeometry, columnMaterial);
            column.position.y = 4.5;
            column.castShadow = true;
            fountainGroup.add(column);

            fountainGroup.position.set(x, y, z);
            scene.add(fountainGroup);
        }

        function createStylishStreetLamps() {
            const lampPositions = [
                [-30, 0, -15], [-30, 0, 15], [30, 0, -15], [30, 0, 15]
            ];

            lampPositions.forEach(pos => {
                const lampGroup = new THREE.Group();
                
                // Poteau dans les tons beige fonc√©
                const poleGeometry = new THREE.CylinderGeometry(0.15, 0.2, 8, 12);
                const poleMaterial = new THREE.MeshLambertMaterial({ color: 0x59372b });
                const pole = new THREE.Mesh(poleGeometry, poleMaterial);
                pole.position.y = 4;
                pole.castShadow = true;
                lampGroup.add(pole);

                // Lanterne beige clair
                const lanternGeometry = new THREE.SphereGeometry(0.8, 12, 8);
                const lanternMaterial = new THREE.MeshLambertMaterial({ 
                    color: 0xf7e7ce, 
                    emissive: 0xcca98d, 
                    emissiveIntensity: 0.3,
                    transparent: true,
                    opacity: 0.9
                });
                const lantern = new THREE.Mesh(lanternGeometry, lanternMaterial);
                lantern.position.y = 8.5;
                lampGroup.add(lantern);

                // Lumi√®re du r√©verb√®re
                const streetLight = new THREE.PointLight(0xcca98d, 0.8, 20);
                streetLight.position.y = 8.5;
                lampGroup.add(streetLight);

                lampGroup.position.set(...pos);
                scene.add(lampGroup);
            });
        }

        function createBeautifulTrees() {
            // Arbres repositionn√©s pour une meilleure esth√©tique
            const treePositions = [
                [-35, 0, -10], [35, 0, -10],  // C√¥t√©s sym√©triques
                [-25, 0, 40], [25, 0, 40],    // Fond sym√©triques  
                [0, 0, 45]                    // Centre fond
            ];

            treePositions.forEach(pos => {
                const treeGroup = new THREE.Group();
                
                // Tronc dans les tons beige fonc√©
                const trunkGeometry = new THREE.CylinderGeometry(1.2, 2, 12, 12);
                const trunkMaterial = new THREE.MeshLambertMaterial({ color: 0x59372b });
                const trunk = new THREE.Mesh(trunkGeometry, trunkMaterial);
                trunk.position.y = 6;
                trunk.castShadow = true;
                treeGroup.add(trunk);

                // Couronne feuillue verte naturelle
                const foliageGeometry = new THREE.SphereGeometry(7, 16, 12);
                const foliageMaterial = new THREE.MeshLambertMaterial({ color: 0x228b22 });
                const foliage = new THREE.Mesh(foliageGeometry, foliageMaterial);
                foliage.position.y = 15;
                foliage.castShadow = true;
                treeGroup.add(foliage);

                treeGroup.position.set(...pos);
                scene.add(treeGroup);
            });
        }

        function createElegantSalon() {
            salon = new THREE.Group();

            // Sol avec nouveau th√®me beige
            createBeautifulFloor();

            // Murs avec couleurs beige
            createStylishWalls();

            // Lustre √©l√©gant
            createElegantChandelier();

            // Mobilier repositionn√© esth√©tiquement
            createChesterfieldSofa();
            createMahoganyTable();
            createAntiqueSideTable();

            // Bureau avec ordinateur repositionn√©
            createExecutiveDesk();

            // Biblioth√®que repositionn√©e
            createAntiqueBookshelf();

            // TV dans meuble repositionn√©e
            createVintageEntertainmentCenter();

            // Chemin√©e repositionn√©e
            createElegantFireplace();

            // Plantes repositionn√©es esth√©tiquement
            createBeautifulPlants();

            // Objets d√©coratifs repositionn√©s
            createElegantDecorations();

            scene.add(salon);
        }

        function createBeautifulFloor() {
            const floorGroup = new THREE.Group();
            
            // Parquet dans les tons beige
            const plankWidth = 0.15;
            const plankLength = 1.2;
            
            for (let row = 0; row < 40; row++) {
                for (let col = 0; col < 50; col++) {
                    const plankGeometry = new THREE.BoxGeometry(plankLength, 0.05, plankWidth);
                    const woodVariation = (Math.random() - 0.5) * 0.1;
                    const baseColors = [0x9f624f, 0xae9e8f, 0xcca98d];
                    const baseColor = baseColors[Math.floor(Math.random() * baseColors.length)];
                    
                    const r = Math.max(0.2, Math.min(1, ((baseColor >> 16) & 0xFF) / 255 + woodVariation));
                    const g = Math.max(0.2, Math.min(1, ((baseColor >> 8) & 0xFF) / 255 + woodVariation));
                    const b = Math.max(0.2, Math.min(1, (baseColor & 0xFF) / 255 + woodVariation));
                    
                    const plankMaterial = new THREE.MeshLambertMaterial({
                        color: new THREE.Color(r, g, b)
                    });
                    const plank = new THREE.Mesh(plankGeometry, plankMaterial);
                    
                    // Pattern chevrons
                    const isEven = (row + col) % 2 === 0;
                    plank.rotation.y = isEven ? Math.PI / 4 : -Math.PI / 4;
                    plank.position.set(
                        -25 + col * 1,
                        0,
                        -20 + row * 1
                    );
                    plank.receiveShadow = true;
                    floorGroup.add(plank);
                }
            }
            
            salon.add(floorGroup);
        }

        function createStylishWalls() {
            const wallMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
            const wainscotMaterial = new THREE.MeshLambertMaterial({ color: 0xcca98d });

            // Mur arri√®re
            const wallGeometry = new THREE.PlaneGeometry(40, 14);
            const backWall = new THREE.Mesh(wallGeometry, wallMaterial);
            backWall.position.set(0, 7, -20);
            backWall.receiveShadow = true;
            salon.add(backWall);

            // Boiseries beige
            const wainscotGeometry = new THREE.PlaneGeometry(40, 4);
            const backWainscot = new THREE.Mesh(wainscotGeometry, wainscotMaterial);
            backWainscot.position.set(0, 2, -19.9);
            salon.add(backWainscot);

            // Murs lat√©raux
            const sideWallGeometry = new THREE.PlaneGeometry(40, 14);
            
            const leftWall = new THREE.Mesh(sideWallGeometry, wallMaterial);
            leftWall.position.set(-20, 7, 0);
            leftWall.rotation.y = Math.PI / 2;
            leftWall.receiveShadow = true;
            salon.add(leftWall);

            const leftWainscot = new THREE.Mesh(new THREE.PlaneGeometry(40, 4), wainscotMaterial);
            leftWainscot.position.set(-19.9, 2, 0);
            leftWainscot.rotation.y = Math.PI / 2;
            salon.add(leftWainscot);

            const rightWall = new THREE.Mesh(sideWallGeometry, wallMaterial);
            rightWall.position.set(20, 7, 0);
            rightWall.rotation.y = -Math.PI / 2;
            rightWall.receiveShadow = true;
            salon.add(rightWall);

            const rightWainscot = new THREE.Mesh(new THREE.PlaneGeometry(40, 4), wainscotMaterial);
            rightWainscot.position.set(19.9, 2, 0);
            rightWainscot.rotation.y = -Math.PI / 2;
            salon.add(rightWainscot);

            // Plafond beige tr√®s clair
            const ceilingGeometry = new THREE.PlaneGeometry(40, 40);
            const ceilingMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
            const ceiling = new THREE.Mesh(ceilingGeometry, ceilingMaterial);
            ceiling.position.set(0, 14, 0);
            ceiling.rotation.x = Math.PI / 2;
            ceiling.receiveShadow = true;
            salon.add(ceiling);
        }

        function createElegantChandelier() {
            chandelierMesh = new THREE.Group();

            // Cha√Æne dans les tons beige dor√©
            const chainGeometry = new THREE.CylinderGeometry(0.03, 0.03, 3, 12);
            const chainMaterial = new THREE.MeshLambertMaterial({ 
                color: 0xcca98d,
                emissive: 0x443322,
                emissiveIntensity: 0.1
            });
            const chain = new THREE.Mesh(chainGeometry, chainMaterial);
            chain.position.y = 11.5;
            chandelierMesh.add(chain);

            // Corps principal beige dor√©
            const bodyGeometry = new THREE.SphereGeometry(1.2, 16, 12);
            const bodyMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f,
                emissive: 0x2a1608,
                emissiveIntensity: 0.2
            });
            const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
            body.position.y = 9;
            chandelierMesh.add(body);

            // Bras avec cristaux
            for (let i = 0; i < 8; i++) {
                const angle = (i / 8) * Math.PI * 2;
                
                // Bras courb√©
                const armGeometry = new THREE.TorusGeometry(1.5, 0.08, 6, 16, Math.PI/2);
                const armMaterial = new THREE.MeshLambertMaterial({ color: 0xcca98d });
                const arm = new THREE.Mesh(armGeometry, armMaterial);
                arm.position.set(
                    Math.cos(angle) * 0.8,
                    8.5,
                    Math.sin(angle) * 0.8
                );
                arm.rotation.y = angle;
                arm.rotation.z = Math.PI;
                chandelierMesh.add(arm);

                // Support de bougie
                const bobeche = new THREE.Mesh(
                    new THREE.CylinderGeometry(0.2, 0.15, 0.1, 12),
                    new THREE.MeshLambertMaterial({ color: 0xcca98d })
                );
                bobeche.position.set(
                    Math.cos(angle) * 2.3,
                    8.5,
                    Math.sin(angle) * 2.3
                );
                chandelierMesh.add(bobeche);

                // Bougie
                const candleGeometry = new THREE.CylinderGeometry(0.08, 0.1, 0.8, 12);
                const candleMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
                const candle = new THREE.Mesh(candleGeometry, candleMaterial);
                candle.position.set(
                    Math.cos(angle) * 2.3,
                    8.9,
                    Math.sin(angle) * 2.3
                );
                chandelierMesh.add(candle);

                // Flamme
                const flameGeometry = new THREE.SphereGeometry(0.04, 6, 4);
                const flameMaterial = new THREE.MeshLambertMaterial({ 
                    color: 0xcca98d, 
                    emissive: 0xcca98d, 
                    emissiveIntensity: 0.6 
                });
                const flame = new THREE.Mesh(flameGeometry, flameMaterial);
                flame.position.set(
                    Math.cos(angle) * 2.3,
                    9.3,
                    Math.sin(angle) * 2.3
                );
                flame.scale.set(0.8, 1.5, 0.8);
                chandelierMesh.add(flame);

                // Cristaux dans les tons beige
                for (let j = 0; j < 5; j++) {
                    const crystalGeometry = new THREE.OctahedronGeometry(0.1);
                    const crystalMaterial = new THREE.MeshLambertMaterial({ 
                        color: 0xf7e7ce, 
                        transparent: true, 
                        opacity: 0.9,
                        emissive: 0x443322,
                        emissiveIntensity: 0.1
                    });
                    const crystal = new THREE.Mesh(crystalGeometry, crystalMaterial);
                    crystal.position.set(
                        Math.cos(angle + j * 0.2) * (2 + j * 0.1),
                        8 - j * 0.3,
                        Math.sin(angle + j * 0.2) * (2 + j * 0.1)
                    );
                    chandelierMesh.add(crystal);
                }
            }

            chandelierMesh.position.set(0, 0, 0);
            salon.add(chandelierMesh);
        }

        function createChesterfieldSofa() {
            const sofaGroup = new THREE.Group();
            const leatherMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f,
                emissive: 0x1a0e07,
                emissiveIntensity: 0.1
            });

            // Base du sofa
            const baseGeometry = new THREE.BoxGeometry(8, 1, 3.5);
            const base = new THREE.Mesh(baseGeometry, leatherMaterial);
            base.position.y = 0.5;
            base.castShadow = true;
            sofaGroup.add(base);

            // Dossier
            const backGeometry = new THREE.BoxGeometry(8, 3.5, 0.6);
            const back = new THREE.Mesh(backGeometry, leatherMaterial);
            back.position.set(0, 2.2, 1.45);
            back.castShadow = true;
            sofaGroup.add(back);

            // Accoudoirs
            const armGeometry = new THREE.BoxGeometry(0.6, 2.5, 3.5);
            
            const leftArm = new THREE.Mesh(armGeometry, leatherMaterial);
            leftArm.position.set(-3.7, 1.7, 0);
            leftArm.castShadow = true;
            sofaGroup.add(leftArm);

            const rightArm = new THREE.Mesh(armGeometry, leatherMaterial);
            rightArm.position.set(3.7, 1.7, 0);
            rightArm.castShadow = true;
            sofaGroup.add(rightArm);

            // Pieds beige clair
            const legGeometry = new THREE.CylinderGeometry(0.12, 0.15, 0.8, 12);
            const legMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
            
            const legPositions = [
                [-3.2, 0.4, -1.5], [3.2, 0.4, -1.5],
                [-3.2, 0.4, 1.5], [3.2, 0.4, 1.5]
            ];

            legPositions.forEach(pos => {
                const leg = new THREE.Mesh(legGeometry, legMaterial);
                leg.position.set(...pos);
                leg.castShadow = true;
                sofaGroup.add(leg);
            });

            // Coussins beige clair
            for (let i = 0; i < 3; i++) {
                const cushionGeometry = new THREE.BoxGeometry(2.2, 0.4, 2.8);
                const cushionMaterial = new THREE.MeshLambertMaterial({ 
                    color: 0xcca98d,
                    emissive: 0x2a1f05,
                    emissiveIntensity: 0.05
                });
                const cushion = new THREE.Mesh(cushionGeometry, cushionMaterial);
                cushion.position.set(-2.5 + i * 2.5, 1.2, -0.3);
                cushion.castShadow = true;
                sofaGroup.add(cushion);
            }

            // Position repositionn√©e pour meilleure esth√©tique
            sofaGroup.position.set(0, 0, -6);
            salon.add(sofaGroup);
        }

        function createMahoganyTable() {
            const tableGroup = new THREE.Group();
            const mahoganyMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f,
                emissive: 0x1a0e07,
                emissiveIntensity: 0.1
            });

            // Plateau beige fonc√©
            const topGeometry = new THREE.CylinderGeometry(2.5, 2.5, 0.2, 24);
            const top = new THREE.Mesh(topGeometry, mahoganyMaterial);
            top.position.y = 1.5;
            top.castShadow = true;
            tableGroup.add(top);

            // Base sculpt√©e
            const baseGeometry = new THREE.CylinderGeometry(0.8, 1.5, 1.5, 16);
            const base = new THREE.Mesh(baseGeometry, mahoganyMaterial);
            base.position.y = 0.75;
            base.castShadow = true;
            tableGroup.add(base);

            // Pieds
            for (let i = 0; i < 4; i++) {
                const angle = (i / 4) * Math.PI * 2;
                const footGeometry = new THREE.SphereGeometry(0.2, 8, 6);
                const foot = new THREE.Mesh(footGeometry, mahoganyMaterial);
                foot.position.set(
                    Math.cos(angle) * 1.2,
                    0.1,
                    Math.sin(angle) * 1.2
                );
                foot.castShadow = true;
                tableGroup.add(foot);
            }

            // Service √† th√©
            createTeaService(tableGroup);

            // Position entre sofa et chemin√©e
            tableGroup.position.set(0, 0, -10);
            salon.add(tableGroup);
        }

        function createTeaService(parent) {
            const silverMaterial = new THREE.MeshLambertMaterial({ 
                color: 0xae9e8f,
                emissive: 0x333333,
                emissiveIntensity: 0.2
            });

            // Th√©i√®re
            const teapotBody = new THREE.Mesh(
                new THREE.SphereGeometry(0.3, 12, 8),
                silverMaterial
            );
            teapotBody.position.set(0, 1.8, 0);
            teapotBody.castShadow = true;
            parent.add(teapotBody);

            // Bec
            const spoutGeometry = new THREE.CylinderGeometry(0.05, 0.08, 0.4, 8);
            const spout = new THREE.Mesh(spoutGeometry, silverMaterial);
            spout.position.set(0.35, 1.8, 0);
            spout.rotation.z = Math.PI / 6;
            parent.add(spout);

            // Tasses
            for (let i = 0; i < 2; i++) {
                const angle = (i / 2) * Math.PI + Math.PI/4;
                
                const saucerGeometry = new THREE.CylinderGeometry(0.15, 0.15, 0.02, 16);
                const saucer = new THREE.Mesh(saucerGeometry, silverMaterial);
                saucer.position.set(
                    Math.cos(angle) * 0.8,
                    1.71,
                    Math.sin(angle) * 0.8
                );
                parent.add(saucer);

                const cupGeometry = new THREE.CylinderGeometry(0.08, 0.1, 0.12, 12);
                const cup = new THREE.Mesh(cupGeometry, silverMaterial);
                cup.position.set(
                    Math.cos(angle) * 0.8,
                    1.77,
                    Math.sin(angle) * 0.8
                );
                cup.castShadow = true;
                parent.add(cup);
            }
        }

        function createAntiqueSideTable() {
            const tableGroup = new THREE.Group();
            const antiqueMaterial = new THREE.MeshLambertMaterial({ color: 0x9f624f });

            // Plateau
            const topGeometry = new THREE.BoxGeometry(1.8, 0.15, 1.2);
            const top = new THREE.Mesh(topGeometry, antiqueMaterial);
            top.position.y = 2;
            top.castShadow = true;
            tableGroup.add(top);

            // Tiroir
            const drawerGeometry = new THREE.BoxGeometry(1.6, 0.3, 1);
            const drawer = new THREE.Mesh(drawerGeometry, new THREE.MeshLambertMaterial({ color: 0x59372b }));
            drawer.position.y = 1.5;
            drawer.castShadow = true;
            tableGroup.add(drawer);

            // Pieds
            const legGeometry = new THREE.CylinderGeometry(0.06, 0.08, 2, 12);
            const legMaterial = new THREE.MeshLambertMaterial({ color: 0xcca98d });
            
            const legPositions = [
                [-0.7, 1, -0.5], [0.7, 1, -0.5],
                [-0.7, 1, 0.5], [0.7, 1, 0.5]
            ];

            legPositions.forEach(pos => {
                const leg = new THREE.Mesh(legGeometry, legMaterial);
                leg.position.set(...pos);
                leg.castShadow = true;
                tableGroup.add(leg);
            });

            // Lampe √©l√©gante
            createElegantLamp(tableGroup);

            // Position repositionn√©e
            tableGroup.position.set(-6, 0, -6);
            salon.add(tableGroup);
        }

        function createElegantLamp(parent) {
            // Pied beige dor√©
            const baseGeometry = new THREE.CylinderGeometry(0.15, 0.2, 1.2, 12);
            const baseMaterial = new THREE.MeshLambertMaterial({ color: 0x9f624f });
            const base = new THREE.Mesh(baseGeometry, baseMaterial);
            base.position.y = 2.8;
            base.castShadow = true;
            parent.add(base);

            // Abat-jour beige
            const shadeGeometry = new THREE.CylinderGeometry(0.8, 1.2, 0.8, 12);
            const shadeMaterial = new THREE.MeshLambertMaterial({ 
                color: 0xf7e7ce, 
                transparent: true, 
                opacity: 0.8,
                emissive: 0x443322,
                emissiveIntensity: 0.2
            });
            const shade = new THREE.Mesh(shadeGeometry, shadeMaterial);
            shade.position.y = 3.8;
            parent.add(shade);
        }

        function createExecutiveDesk() {
            const deskGroup = new THREE.Group();
            const mahoganyMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f,
                emissive: 0x1a0e07,
                emissiveIntensity: 0.1
            });

            // Bureau
            const deskTopGeometry = new THREE.BoxGeometry(10, 0.2, 4);
            const deskTop = new THREE.Mesh(deskTopGeometry, mahoganyMaterial);
            deskTop.position.y = 2.5;
            deskTop.castShadow = true;
            deskGroup.add(deskTop);

            // Caissons
            const cabinetGeometry = new THREE.BoxGeometry(2, 2.3, 3.5);
            
            const leftCabinet = new THREE.Mesh(cabinetGeometry, mahoganyMaterial);
            leftCabinet.position.set(-3.5, 1.35, 0);
            leftCabinet.castShadow = true;
            deskGroup.add(leftCabinet);

            const rightCabinet = new THREE.Mesh(cabinetGeometry, mahoganyMaterial);
            rightCabinet.position.set(3.5, 1.35, 0);
            rightCabinet.castShadow = true;
            deskGroup.add(rightCabinet);

            // Poign√©es beige clair
            createBrassDetails(deskGroup);

            // Ordinateur
            const monitorGeometry = new THREE.BoxGeometry(3, 2.2, 0.4);
            const monitorMaterial = new THREE.MeshLambertMaterial({ color: 0x2c2c2c });
            const monitor = new THREE.Mesh(monitorGeometry, monitorMaterial);
            monitor.position.set(-1, 3.8, -1);
            monitor.castShadow = true;
            deskGroup.add(monitor);

            // √âcran cliquable
            const screenGeometry = new THREE.BoxGeometry(2.8, 2, 0.1);
            const screenMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x001100, 
                emissive: 0x002200, 
                emissiveIntensity: 0.3 
            });
            computerMesh = new THREE.Mesh(screenGeometry, screenMaterial);
            computerMesh.position.set(-1, 3.8, -0.65);
            computerMesh.userData = { clickable: true, type: 'computer' };
            deskGroup.add(computerMesh);
            clickableObjects.push(computerMesh);

            // Accessoires
            createDeskAccessories(deskGroup);

            // Position repositionn√©e
            deskGroup.position.set(10, 0, -6);
            salon.add(deskGroup);
        }

        function createBrassDetails(parent) {
            const brassMaterial = new THREE.MeshLambertMaterial({ 
                color: 0xcca98d,
                emissive: 0x443322,
                emissiveIntensity: 0.2
            });

            // Poign√©es
            const handleGeometry = new THREE.CylinderGeometry(0.03, 0.03, 0.3, 8);
            
            for (let i = 0; i < 3; i++) {
                const handle = new THREE.Mesh(handleGeometry, brassMaterial);
                handle.position.set(-2.5, 0.8 + i * 0.6, 1.8);
                handle.rotation.z = Math.PI / 2;
                parent.add(handle);
            }

            for (let i = 0; i < 3; i++) {
                const handle = new THREE.Mesh(handleGeometry, brassMaterial);
                handle.position.set(4.5, 0.8 + i * 0.6, 1.8);
                handle.rotation.z = Math.PI / 2;
                parent.add(handle);
            }

            // Ornements
            const ornamentGeometry = new THREE.SphereGeometry(0.08, 8, 6);
            const corners = [
                [-4.8, 2.6, -1.8], [4.8, 2.6, -1.8],
                [-4.8, 2.6, 1.8], [4.8, 2.6, 1.8]
            ];

            corners.forEach(pos => {
                const ornament = new THREE.Mesh(ornamentGeometry, brassMaterial);
                ornament.position.set(...pos);
                parent.add(ornament);
            });
        }

        function createDeskAccessories(parent) {
            // Encrier beige
            const inkwellGeometry = new THREE.CylinderGeometry(0.15, 0.2, 0.2, 12);
            const inkwellMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f, 
                transparent: true, 
                opacity: 0.8 
            });
            const inkwell = new THREE.Mesh(inkwellGeometry, inkwellMaterial);
            inkwell.position.set(2, 2.7, 1);
            inkwell.castShadow = true;
            parent.add(inkwell);

            // Plume
            const quillGeometry = new THREE.CylinderGeometry(0.01, 0.02, 0.8, 8);
            const quillMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
            const quill = new THREE.Mesh(quillGeometry, quillMaterial);
            quill.position.set(2.3, 2.9, 1);
            quill.rotation.z = Math.PI / 6;
            parent.add(quill);

            // Porte-lettres
            const letterHolderGeometry = new THREE.BoxGeometry(0.5, 0.6, 0.1);
            const letterHolderMaterial = new THREE.MeshLambertMaterial({ color: 0x9f624f });
            const letterHolder = new THREE.Mesh(letterHolderGeometry, letterHolderMaterial);
            letterHolder.position.set(3.5, 2.8, -0.5);
            letterHolder.rotation.x = -Math.PI / 8;
            parent.add(letterHolder);

            // Livres
            const bookColors = [0x59372b, 0x9f624f, 0xae9e8f];
            for (let i = 0; i < 3; i++) {
                const bookGeometry = new THREE.BoxGeometry(0.8, 0.08, 1.2);
                const bookMaterial = new THREE.MeshLambertMaterial({ color: bookColors[i] });
                const book = new THREE.Mesh(bookGeometry, bookMaterial);
                book.position.set(1, 2.7 + i * 0.08, -1.5);
                book.rotation.y = i * 0.1;
                book.castShadow = true;
                parent.add(book);
            }

            // Clavier
            const keyboardGeometry = new THREE.BoxGeometry(2.2, 0.1, 0.8);
            const keyboardMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
            const keyboard = new THREE.Mesh(keyboardGeometry, keyboardMaterial);
            keyboard.position.set(-1, 2.65, 0.8);
            keyboard.castShadow = true;
            parent.add(keyboard);
        }

        function createAntiqueBookshelf() {
            const shelfGroup = new THREE.Group();
            const mahoganyMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f,
                emissive: 0x1a0e07,
                emissiveIntensity: 0.1
            });

            // Structure
            const frameWidth = 0.4;
            const shelfHeight = 10;
            const shelfDepth = 3;

            // Montants
            const pillarGeometry = new THREE.BoxGeometry(frameWidth, shelfHeight, shelfDepth);
            
            const leftPillar = new THREE.Mesh(pillarGeometry, mahoganyMaterial);
            leftPillar.position.set(-3.8, 5, 0);
            leftPillar.castShadow = true;
            shelfGroup.add(leftPillar);

            const rightPillar = new THREE.Mesh(pillarGeometry, mahoganyMaterial);
            rightPillar.position.set(3.8, 5, 0);
            rightPillar.castShadow = true;
            shelfGroup.add(rightPillar);

            // Panneau arri√®re
            const backPanelGeometry = new THREE.BoxGeometry(8, shelfHeight, 0.3);
            const backPanel = new THREE.Mesh(backPanelGeometry, mahoganyMaterial);
            backPanel.position.set(0, 5, -1.35);
            backPanel.castShadow = true;
            shelfGroup.add(backPanel);

            // √âtag√®res
            const shelfGeometry = new THREE.BoxGeometry(8, 0.3, shelfDepth);
            for (let i = 0; i <= 6; i++) {
                const shelf = new THREE.Mesh(shelfGeometry, mahoganyMaterial);
                shelf.position.set(0, i * 1.5 + 0.3, 0);
                shelf.castShadow = true;
                shelfGroup.add(shelf);
            }

            // Collection de livres
            createBookCollection(shelfGroup);

            // Position repositionn√©e
            shelfGroup.position.set(-12, 0, -6);
            salon.add(shelfGroup);
        }

        function createBookCollection(parent) {
            const bookCollections = [
                { colors: [0x59372b, 0x9f624f, 0xae9e8f], shelf: 0 },
                { colors: [0x9f624f, 0xcca98d, 0x59372b], shelf: 1 },
                { colors: [0xae9e8f, 0xf7e7ce, 0x9f624f], shelf: 2 },
                { colors: [0x59372b, 0xcca98d, 0xae9e8f], shelf: 3 },
                { colors: [0x9f624f, 0xf7e7ce, 0x59372b], shelf: 4 },
                { colors: [0xcca98d, 0xae9e8f, 0x9f624f], shelf: 5 }
            ];

            bookCollections.forEach(collection => {
                const shelfY = collection.shelf * 1.5 + 1.1;
                
                for (let i = 0; i < 12; i++) {
                    const bookGeometry = new THREE.BoxGeometry(0.4, 1.4, 0.2);
                    const bookMaterial = new THREE.MeshLambertMaterial({ 
                        color: collection.colors[Math.floor(Math.random() * collection.colors.length)]
                    });
                    const book = new THREE.Mesh(bookGeometry, bookMaterial);
                    book.position.set(-3.5 + (i * 0.6), shelfY, 1.3);
                    book.rotation.y = (Math.random() - 0.5) * 0.2;
                    book.castShadow = true;
                    parent.add(book);
                }

                // Objets d√©coratifs
                if (collection.shelf % 2 === 0) {
                    if (collection.shelf === 0) {
                        // Buste
                        const bustGeometry = new THREE.CylinderGeometry(0.3, 0.4, 0.8, 12);
                        const bustMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
                        const bust = new THREE.Mesh(bustGeometry, bustMaterial);
                        bust.position.set(2.5, shelfY, 1);
                        bust.castShadow = true;
                        parent.add(bust);
                    } else if (collection.shelf === 2) {
                        // Globe
                        const globeStandGeometry = new THREE.CylinderGeometry(0.1, 0.15, 0.4, 12);
                        const standMaterial = new THREE.MeshLambertMaterial({ color: 0xcca98d });
                        const stand = new THREE.Mesh(globeStandGeometry, standMaterial);
                        stand.position.set(2.5, shelfY - 0.2, 1);
                        parent.add(stand);

                        const globeGeometry = new THREE.SphereGeometry(0.25, 16, 12);
                        const globeMaterial = new THREE.MeshLambertMaterial({ color: 0x228b22 });
                        const globe = new THREE.Mesh(globeGeometry, globeMaterial);
                        globe.position.set(2.5, shelfY + 0.1, 1);
                        globe.castShadow = true;
                        parent.add(globe);
                    }
                }
            });
        }

        function createVintageEntertainmentCenter() {
            const centerGroup = new THREE.Group();
            const mahoganyMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f,
                emissive: 0x1a0e07,
                emissiveIntensity: 0.1
            });

            // Meuble TV
            const cabinetGeometry = new THREE.BoxGeometry(12, 3, 2.5);
            const cabinet = new THREE.Mesh(cabinetGeometry, mahoganyMaterial);
            cabinet.position.y = 1.5;
            cabinet.castShadow = true;
            centerGroup.add(cabinet);

            // Socle
            const baseGeometry = new THREE.BoxGeometry(13, 0.5, 3);
            const base = new THREE.Mesh(baseGeometry, new THREE.MeshLambertMaterial({ color: 0xae9e8f }));
            base.position.y = 0.25;
            base.castShadow = true;
            centerGroup.add(base);

            // TV
            const tvFrameGeometry = new THREE.BoxGeometry(8, 2.8, 0.3);
            const tvFrameMaterial = new THREE.MeshLambertMaterial({ color: 0x2c2c2c });
            const tvFrame = new THREE.Mesh(tvFrameGeometry, tvFrameMaterial);
            tvFrame.position.set(0, 4.5, 1.4);
            tvFrame.castShadow = true;
            centerGroup.add(tvFrame);

            // √âcran TV
            const screenGeometry = new THREE.BoxGeometry(7.5, 2.5, 0.1);
            const screenTexture = new THREE.CanvasTexture(createBeautifulScreenCanvas());
            const screenMaterial = new THREE.MeshLambertMaterial({ 
                map: screenTexture, 
                emissive: 0x332211, 
                emissiveIntensity: 0.2 
            });
            tvMesh = new THREE.Mesh(screenGeometry, screenMaterial);
            tvMesh.position.set(0, 4.5, 1.75);
            tvMesh.userData = { clickable: true, type: 'tv' };
            centerGroup.add(tvMesh);
            clickableObjects.push(tvMesh);

            // Portes du meuble
            createCabinetDoors(centerGroup);

            // Position contre le mur du fond
            centerGroup.position.set(0, 0, -18);
            salon.add(centerGroup);
        }

        function createBeautifulScreenCanvas() {
            const canvas = document.createElement('canvas');
            canvas.width = 750;
            canvas.height = 250;
            const ctx = canvas.getContext('2d');

            // Fond d√©grad√© beige
            const gradient = ctx.createLinearGradient(0, 0, 750, 250);
            gradient.addColorStop(0, '#9f624f');
            gradient.addColorStop(0.3, '#cca98d');
            gradient.addColorStop(0.7, '#f7e7ce');
            gradient.addColorStop(1, '#ae9e8f');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 750, 250);

            // Motifs √©l√©gants
            ctx.fillStyle = 'rgba(89, 55, 43, 0.3)';
            for (let i = 0; i < 20; i++) {
                ctx.beginPath();
                ctx.arc(
                    Math.random() * 750, 
                    Math.random() * 250, 
                    Math.random() * 30 + 10, 
                    0, 
                    Math.PI * 2
                );
                ctx.fill();
            }

            // Bordure d√©corative
            ctx.strokeStyle = '#59372b';
            ctx.lineWidth = 8;
            ctx.strokeRect(0, 0, 750, 250);

            // Texte √©l√©gant
            ctx.fillStyle = '#59372b';
            ctx.font = 'bold 32px Times New Roman';
            ctx.textAlign = 'center';
            ctx.fillText('Divertissement √âl√©gant', 375, 130);

            return canvas;
        }

        function createCabinetDoors(parent) {
            const doorMaterial = new THREE.MeshLambertMaterial({ color: 0xae9e8f });
            
            for (let side = 0; side < 2; side++) {
                const doorGeometry = new THREE.BoxGeometry(2, 2.8, 0.1);
                const door = new THREE.Mesh(doorGeometry, doorMaterial);
                door.position.set(side === 0 ? -4.5 : 4.5, 1.5, 1.3);
                door.castShadow = true;
                parent.add(door);

                // Panneaux de verre beige
                const glassGeometry = new THREE.BoxGeometry(1.5, 2, 0.05);
                const glassColors = [0x9f624f, 0xcca98d, 0xae9e8f, 0xf7e7ce];
                const glassMaterial = new THREE.MeshLambertMaterial({ 
                    color: glassColors[side], 
                    transparent: true, 
                    opacity: 0.6 
                });
                const glass = new THREE.Mesh(glassGeometry, glassMaterial);
                glass.position.set(side === 0 ? -4.5 : 4.5, 1.5, 1.35);
                parent.add(glass);

                // Poign√©es beige clair
                const handleGeometry = new THREE.SphereGeometry(0.08, 8, 6);
                const handleMaterial = new THREE.MeshLambertMaterial({ color: 0xcca98d });
                const handle = new THREE.Mesh(handleGeometry, handleMaterial);
                handle.position.set(
                    side === 0 ? -3.7 : 3.7, 
                    1.5, 
                    1.4
                );
                parent.add(handle);
            }
        }

        function createElegantFireplace() {
            const fireplaceGroup = new THREE.Group();
            
            // Manteau beige clair
            const mantleGeometry = new THREE.BoxGeometry(8, 1, 2);
            const mantleMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
            const mantle = new THREE.Mesh(mantleGeometry, mantleMaterial);
            mantle.position.set(0, 4, -19.5);
            mantle.castShadow = true;
            fireplaceGroup.add(mantle);

            // Foyer
            const fireboxGeometry = new THREE.BoxGeometry(6, 3, 1.5);
            const fireboxMaterial = new THREE.MeshLambertMaterial({ color: 0x59372b });
            const firebox = new THREE.Mesh(fireboxGeometry, fireboxMaterial);
            firebox.position.set(0, 2.5, -19);
            firebox.castShadow = true;
            fireplaceGroup.add(firebox);

            // Feu de chemin√©e dans les tons beige/dor√©
            const fireGeometry = new THREE.ConeGeometry(1, 2, 8);
            const fireMaterial = new THREE.MeshLambertMaterial({ 
                color: 0xcca98d, 
                emissive: 0xcca98d, 
                emissiveIntensity: 0.5,
                transparent: true,
                opacity: 0.8
            });
            
            for (let i = 0; i < 5; i++) {
                const flame = new THREE.Mesh(fireGeometry, fireMaterial);
                flame.position.set(
                    -2 + i * 1,
                    1.5 + Math.random() * 0.5,
                    -18.5
                );
                flame.scale.set(0.5 + Math.random() * 0.5, 1 + Math.random() * 0.5, 0.5);
                fireplaceGroup.add(flame);
            }

            // B√ªches
            const logGeometry = new THREE.CylinderGeometry(0.15, 0.2, 2, 8);
            const logMaterial = new THREE.MeshLambertMaterial({ color: 0x9f624f });
            
            for (let i = 0; i < 3; i++) {
                const log = new THREE.Mesh(logGeometry, logMaterial);
                log.position.set(-1 + i * 1, 1.2, -18.5);
                log.rotation.z = (Math.random() - 0.5) * 0.5;
                log.castShadow = true;
                fireplaceGroup.add(log);
            }

            // Chenets beige dor√©
            for (let side = 0; side < 2; side++) {
                const andironGeometry = new THREE.CylinderGeometry(0.1, 0.15, 1.5, 12);
                const andironMaterial = new THREE.MeshLambertMaterial({ color: 0xcca98d });
                const andiron = new THREE.Mesh(andironGeometry, andironMaterial);
                andiron.position.set(side === 0 ? -2.5 : 2.5, 1.75, -18.5);
                andiron.castShadow = true;
                fireplaceGroup.add(andiron);
            }

            // Lumi√®re du feu
            const fireLight = new THREE.PointLight(0xcca98d, 1, 15);
            fireLight.position.set(0, 2, -18);
            fireplaceGroup.add(fireLight);

            salon.add(fireplaceGroup);
        }

        function createBeautifulPlants() {
            // Plantes repositionn√©es esth√©tiquement
            
            // Grand ficus dans un coin √©l√©gant
            const ficusGroup = new THREE.Group();
            
            const potGeometry = new THREE.CylinderGeometry(1, 1.3, 1.5, 16);
            const potMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f,
                emissive: 0x1a0e07,
                emissiveIntensity: 0.05
            });
            const pot = new THREE.Mesh(potGeometry, potMaterial);
            pot.position.y = 0.75;
            pot.castShadow = true;
            ficusGroup.add(pot);

            // Tronc
            const trunkGeometry = new THREE.CylinderGeometry(0.15, 0.25, 4, 12);
            const trunkMaterial = new THREE.MeshLambertMaterial({ color: 0x9f624f });
            const trunk = new THREE.Mesh(trunkGeometry, trunkMaterial);
            trunk.position.y = 3.5;
            trunk.castShadow = true;
            ficusGroup.add(trunk);

            // Feuillage
            const foliageMaterial = new THREE.MeshLambertMaterial({ color: 0x228b22 });
            for (let i = 0; i < 20; i++) {
                const leafGeometry = new THREE.SphereGeometry(0.4, 8, 6);
                const leaf = new THREE.Mesh(leafGeometry, foliageMaterial);
                const angle = Math.random() * Math.PI * 2;
                const radius = 1 + Math.random() * 0.8;
                leaf.position.set(
                    Math.cos(angle) * radius,
                    4.5 + Math.random() * 2,
                    Math.sin(angle) * radius
                );
                leaf.scale.set(1.2, 0.4, 0.8);
                leaf.castShadow = true;
                ficusGroup.add(leaf);
            }

            // Position dans un coin esth√©tique
            ficusGroup.position.set(-16, 0, 12);
            salon.add(ficusGroup);

            // Palmier √©l√©gant de l'autre c√¥t√©
            const palmGroup = new THREE.Group();
            
            const palmPotGeometry = new THREE.CylinderGeometry(0.8, 1, 1.2, 12);
            const palmPot = new THREE.Mesh(palmPotGeometry, new THREE.MeshLambertMaterial({ color: 0xae9e8f }));
            palmPot.position.y = 0.6;
            palmPot.castShadow = true;
            palmGroup.add(palmPot);

            // Troncs de palmier
            for (let i = 0; i < 3; i++) {
                const palmTrunkGeometry = new THREE.CylinderGeometry(0.08, 0.12, 3 + i * 0.5, 10);
                const palmTrunk = new THREE.Mesh(palmTrunkGeometry, new THREE.MeshLambertMaterial({ color: 0xae9e8f }));
                palmTrunk.position.set(
                    (i - 1) * 0.3,
                    2.7 + i * 0.25,
                    0
                );
                palmTrunk.rotation.z = (i - 1) * 0.2;
                palmTrunk.castShadow = true;
                palmGroup.add(palmTrunk);

                // Palmes
                for (let j = 0; j < 6; j++) {
                    const frondGeometry = new THREE.BoxGeometry(0.1, 1.5, 0.05);
                    const frondMaterial = new THREE.MeshLambertMaterial({ color: 0x228b22 });
                    const frond = new THREE.Mesh(frondGeometry, frondMaterial);
                    const angle = (j / 6) * Math.PI * 2;
                    frond.position.set(
                        (i - 1) * 0.3 + Math.cos(angle) * 0.5,
                        4.2 + i * 0.25,
                        Math.sin(angle) * 0.5
                    );
                    frond.rotation.y = angle;
                    frond.rotation.z = -Math.PI / 6;
                    frond.castShadow = true;
                    palmGroup.add(frond);
                }
            }

            // Position sym√©trique
            palmGroup.position.set(16, 0, 12);
            salon.add(palmGroup);
        }

        function createElegantDecorations() {
            // Horloge grand-p√®re repositionn√©e
            createGrandfatherClock();
            
            // Cand√©labres repositionn√©s
            createCandelabras();
            
            // Objets de collection repositionn√©s
            createCollectibles();
        }

        function createGrandfatherClock() {
            const clockGroup = new THREE.Group();
            
            // Corps principal beige fonc√©
            const bodyGeometry = new THREE.BoxGeometry(1, 7, 1);
            const bodyMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f,
                emissive: 0x1a0e07,
                emissiveIntensity: 0.1
            });
            const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
            body.position.y = 3.5;
            body.castShadow = true;
            clockGroup.add(body);

            // Cadran beige clair
            const faceGeometry = new THREE.CylinderGeometry(0.6, 0.6, 0.1, 24);
            const faceMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
            const face = new THREE.Mesh(faceGeometry, faceMaterial);
            face.position.set(0, 5.5, 0.6);
            face.rotation.x = Math.PI / 2;
            face.castShadow = true;
            clockGroup.add(face);

            // Aiguilles beige fonc√©
            const hourHandGeometry = new THREE.BoxGeometry(0.02, 0.4, 0.01);
            const minuteHandGeometry = new THREE.BoxGeometry(0.01, 0.5, 0.01);
            const handMaterial = new THREE.MeshLambertMaterial({ color: 0x59372b });
            
            const hourHand = new THREE.Mesh(hourHandGeometry, handMaterial);
            hourHand.position.set(0, 5.5, 0.65);
            hourHand.rotation.z = Math.PI / 4;
            clockGroup.add(hourHand);

            const minuteHand = new THREE.Mesh(minuteHandGeometry, handMaterial);
            minuteHand.position.set(0, 5.5, 0.66);
            minuteHand.rotation.z = Math.PI / 6;
            clockGroup.add(minuteHand);

            // Base
            const baseGeometry = new THREE.BoxGeometry(1.4, 1, 1.4);
            const base = new THREE.Mesh(baseGeometry, bodyMaterial);
            base.position.y = 0.5;
            base.castShadow = true;
            clockGroup.add(base);

            // Pendule beige dor√©
            const pendulumGeometry = new THREE.SphereGeometry(0.1, 12, 8);
            const pendulumMaterial = new THREE.MeshLambertMaterial({ color: 0xcca98d });
            const pendulum = new THREE.Mesh(pendulumGeometry, pendulumMaterial);
            pendulum.position.set(0, 3, 0.6);
            clockGroup.add(pendulum);

            // Position dans un coin √©l√©gant
            clockGroup.position.set(-18, 0, 8);
            salon.add(clockGroup);
        }

        function createCandelabras() {
            const candelabraPositions = [
                { pos: [-4, 2.1, -10], candles: 5 },
                { pos: [4, 2.1, -10], candles: 3 },
                { pos: [0, 4.5, -19.5], candles: 7 } // Sur la chemin√©e
            ];

            candelabraPositions.forEach(data => {
                const candelabraGroup = new THREE.Group();
                
                // Base beige dor√©
                const baseGeometry = new THREE.CylinderGeometry(0.3, 0.4, 0.2, 16);
                const baseMaterial = new THREE.MeshLambertMaterial({ 
                    color: 0x9f624f,
                    emissive: 0x2a1608,
                    emissiveIntensity: 0.1
                });
                const base = new THREE.Mesh(baseGeometry, baseMaterial);
                base.position.y = 0.1;
                base.castShadow = true;
                candelabraGroup.add(base);

                // Bras et bougies
                for (let i = 0; i < data.candles; i++) {
                    const angle = (i / data.candles) * Math.PI * 2;
                    const radius = i === Math.floor(data.candles / 2) ? 0 : 0.8;
                    const height = i === Math.floor(data.candles / 2) ? 1.2 : 1;

                    // Bras
                    if (radius > 0) {
                        const armGeometry = new THREE.CylinderGeometry(0.02, 0.03, 0.6, 8);
                        const arm = new THREE.Mesh(armGeometry, baseMaterial);
                        arm.position.set(
                            Math.cos(angle) * radius / 2,
                            0.5,
                            Math.sin(angle) * radius / 2
                        );
                        arm.rotation.z = angle;
                        candelabraGroup.add(arm);
                    }

                    // Support
                    const bobeche = new THREE.Mesh(
                        new THREE.CylinderGeometry(0.08, 0.06, 0.05, 12),
                        baseMaterial
                    );
                    bobeche.position.set(
                        Math.cos(angle) * radius,
                        height,
                        Math.sin(angle) * radius
                    );
                    candelabraGroup.add(bobeche);

                    // Bougie beige clair
                    const candleGeometry = new THREE.CylinderGeometry(0.04, 0.05, 0.6, 12);
                    const candleMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
                    const candle = new THREE.Mesh(candleGeometry, candleMaterial);
                    candle.position.set(
                        Math.cos(angle) * radius,
                        height + 0.3,
                        Math.sin(angle) * radius
                    );
                    candle.castShadow = true;
                    candelabraGroup.add(candle);

                    // Flamme dor√©e
                    const flameGeometry = new THREE.SphereGeometry(0.025, 6, 4);
                    const flameMaterial = new THREE.MeshLambertMaterial({ 
                        color: 0xcca98d, 
                        emissive: 0xcca98d, 
                        emissiveIntensity: 0.4 
                    });
                    const flame = new THREE.Mesh(flameGeometry, flameMaterial);
                    flame.position.set(
                        Math.cos(angle) * radius,
                        height + 0.65,
                        Math.sin(angle) * radius
                    );
                    flame.scale.set(0.6, 1.2, 0.6);
                    candelabraGroup.add(flame);

                    // Lumi√®re
                    const candleLight = new THREE.PointLight(0xcca98d, 0.2, 8);
                    candleLight.position.set(
                        Math.cos(angle) * radius,
                        height + 0.65,
                        Math.sin(angle) * radius
                    );
                    candelabraGroup.add(candleLight);
                }

                candelabraGroup.position.set(...data.pos);
                salon.add(candelabraGroup);
            });
        }

        function createCollectibles() {
            // Vases repositionn√©s esth√©tiquement
            const vasePositions = [
                { pos: [6, 0, 12], height: 1.5 },
                { pos: [-6, 0, 12], height: 1.2 }
            ];

            vasePositions.forEach(vaseData => {
                const vaseGeometry = new THREE.CylinderGeometry(0.3, 0.5, vaseData.height, 16);
                const vaseMaterial = new THREE.MeshLambertMaterial({ 
                    color: 0x59372b,
                    emissive: 0x0f0a08,
                    emissiveIntensity: 0.1
                });
                const vase = new THREE.Mesh(vaseGeometry, vaseMaterial);
                vase.position.set(vaseData.pos[0], vaseData.height / 2, vaseData.pos[1]);
                vase.castShadow = true;
                salon.add(vase);

                // Fleurs dans les vases
                const flowerColors = [0xdc143c, 0xff69b4, 0xcca98d];
                for (let i = 0; i < 5; i++) {
                    const flowerGeometry = new THREE.SphereGeometry(0.08, 8, 6);
                    const flowerMaterial = new THREE.MeshLambertMaterial({
                        color: flowerColors[Math.floor(Math.random() * flowerColors.length)]
                    });
                    const flower = new THREE.Mesh(flowerGeometry, flowerMaterial);
                    const angle = (i / 5) * Math.PI * 2;
                    flower.position.set(
                        vaseData.pos[0] + Math.cos(angle) * 0.15,
                        vaseData.height + 0.3 + Math.random() * 0.2,
                        vaseData.pos[1] + Math.sin(angle) * 0.15
                    );
                    salon.add(flower);
                }
            });

            // Sculpture repositionn√©e
            const sculptureGroup = new THREE.Group();
            
            const pedestalGeometry = new THREE.CylinderGeometry(0.6, 0.8, 1.2, 16);
            const pedestalMaterial = new THREE.MeshLambertMaterial({ color: 0xf7e7ce });
            const pedestal = new THREE.Mesh(pedestalGeometry, pedestalMaterial);
            pedestal.position.y = 0.6;
            pedestal.castShadow = true;
            sculptureGroup.add(pedestal);

            const sculptureGeometry = new THREE.ConeGeometry(0.4, 1.5, 12);
            const sculptureMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x9f624f,
                emissive: 0x2a1608,
                emissiveIntensity: 0.1
            });
            const sculpture = new THREE.Mesh(sculptureGeometry, sculptureMaterial);
            sculpture.position.y = 2;
            sculpture.castShadow = true;
            sculptureGroup.add(sculpture);

            sculptureGroup.position.set(0, 0, 12);
            salon.add(sculptureGroup);
        }

        function setupEventListeners() {
            window.addEventListener('resize', onWindowResize);
            renderer.domElement.addEventListener('click', onMouseClick);
            renderer.domElement.addEventListener('mousemove', onMouseMove);
            renderer.domElement.addEventListener('mousedown', onMouseDown);
            renderer.domElement.addEventListener('mouseup', onMouseUp);
            renderer.domElement.addEventListener('wheel', onMouseWheel, { passive: false });
            
            // √âv√©nements tactiles pour mobile
            renderer.domElement.addEventListener('touchstart', onTouchStart, { passive: false });
            renderer.domElement.addEventListener('touchmove', onTouchMove, { passive: false });
            renderer.domElement.addEventListener('touchend', onTouchEnd, { passive: false });
        }

        // Gestion des √©v√©nements tactiles
        function onTouchStart(event) {
            event.preventDefault();
            touches = Array.from(event.touches);
            
            if (touches.length === 1) {
                cameraControls.isMouseDown = true;
                cameraControls.mouseX = touches[0].clientX;
                cameraControls.mouseY = touches[0].clientY;
            } else if (touches.length === 2) {
                const dx = touches[0].clientX - touches[1].clientX;
                const dy = touches[0].clientY - touches[1].clientY;
                lastPinchDistance = Math.sqrt(dx * dx + dy * dy);
            }
        }

        function onTouchMove(event) {
            event.preventDefault();
            touches = Array.from(event.touches);
            
            if (touches.length === 1 && cameraControls.isMouseDown) {
                const deltaX = touches[0].clientX - cameraControls.mouseX;
                const deltaY = touches[0].clientY - cameraControls.mouseY;

                cameraControls.targetRotationX += deltaX * 0.01;
                cameraControls.targetRotationY += deltaY * 0.01;

                cameraControls.targetRotationY = Math.max(-Math.PI/4, Math.min(Math.PI/4, cameraControls.targetRotationY));

                cameraControls.mouseX = touches[0].clientX;
                cameraControls.mouseY = touches[0].clientY;
            } else if (touches.length === 2) {
                const dx = touches[0].clientX - touches[1].clientX;
                const dy = touches[0].clientY - touches[1].clientY;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (lastPinchDistance > 0) {
                    const delta = distance - lastPinchDistance;
                    cameraControls.targetDistance -= delta * 0.05;
                    cameraControls.targetDistance = Math.max(8, Math.min(50, cameraControls.targetDistance));
                }
                
                lastPinchDistance = distance;
            }
        }

        function onTouchEnd(event) {
            event.preventDefault();
            
            if (event.touches.length === 0) {
                cameraControls.isMouseDown = false;
                lastPinchDistance = 0;
                
                // Gestion du tap pour les objets cliquables
                if (touches.length === 1) {
                    const touch = touches[0];
                    mouse.x = (touch.clientX / window.innerWidth) * 2 - 1;
                    mouse.y = -(touch.clientY / window.innerHeight) * 2 + 1;

                    raycaster.setFromCamera(mouse, camera);
                    const intersects = raycaster.intersectObjects(clickableObjects);

                    if (intersects.length > 0) {
                        const intersectedObject = intersects[0].object;
                        
                        if (intersectedObject.userData.type === 'computer') {
                            openComputer();
                            createClickSound();
                        } else if (intersectedObject.userData.type === 'tv') {
                            openTV();
                            createClickSound();
                        }
                    }
                }
            }
        }

        function onMouseDown(event) {
            cameraControls.isMouseDown = true;
            cameraControls.mouseX = event.clientX;
            cameraControls.mouseY = event.clientY;
            document.body.style.cursor = 'grabbing';
        }

        function onMouseUp(event) {
            cameraControls.isMouseDown = false;
            document.body.style.cursor = 'grab';
        }

        function onMouseMove(event) {
            if (cameraControls.isMouseDown) {
                const deltaX = event.clientX - cameraControls.mouseX;
                const deltaY = event.clientY - cameraControls.mouseY;

                cameraControls.targetRotationX += deltaX * 0.008;
                cameraControls.targetRotationY += deltaY * 0.008;

                cameraControls.targetRotationY = Math.max(-Math.PI/4, Math.min(Math.PI/4, cameraControls.targetRotationY));

                cameraControls.mouseX = event.clientX;
                cameraControls.mouseY = event.clientY;
            }

            // D√©tection objets cliquables
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(clickableObjects);
            
            document.body.style.cursor = cameraControls.isMouseDown ? 'grabbing' : 'grab';
            hideHint();

            if (intersects.length > 0) {
                const intersectedObject = intersects[0].object;
                document.body.style.cursor = 'pointer';
                
                if (intersectedObject.userData.type === 'computer') {
                    showHint('Cliquez pour ouvrir l\'ordinateur');
                } else if (intersectedObject.userData.type === 'tv') {
                    showHint('Cliquez pour ouvrir la t√©l√©vision');
                }
            }
        }

        function onMouseWheel(event) {
            event.preventDefault();
            cameraControls.targetDistance += event.deltaY * 0.02;
            cameraControls.targetDistance = Math.max(8, Math.min(50, cameraControls.targetDistance));
        }

        function onMouseClick(event) {
            if (cameraControls.isMouseDown) return;

            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(clickableObjects);

            if (intersects.length > 0) {
                const intersectedObject = intersects[0].object;
                
                if (intersectedObject.userData.type === 'computer') {
                    openComputer();
                    createClickSound();
                } else if (intersectedObject.userData.type === 'tv') {
                    openTV();
                    createClickSound();
                }
            }
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // Gestion de l'ordinateur
        function openComputer() {
            document.getElementById('computerOverlay').classList.add('active');
        }

        function closeComputer() {
            document.getElementById('computerOverlay').classList.remove('active');
            document.querySelectorAll('.window').forEach(window => {
                window.classList.remove('active');
            });
        }

        // Gestion de la TV
        function openTV() {
            document.getElementById('tvOverlay').classList.add('active');
        }

        function closeTV() {
            document.getElementById('tvOverlay').classList.remove('active');
        }

        function openApp(appName) {
            createClickSound();
            let url = '';
            switch(appName) {
                case 'netflix':
                    url = 'https://www.netflix.com';
                    break;
                case 'youtube':
                    url = 'https://www.youtube.com';
                    break;
                case 'spotify':
                    url = 'https://www.spotify.com';
                    break;
                case 'prime':
                    url = 'https://www.primevideo.com';
                    break;
                case 'disney':
                    url = 'https://www.disneyplus.com';
                    break;
                case 'games':
                    url = 'https://play.google.com/store';
                    break;
            }
            if (url) {
                window.open(url, '_blank');
            }
        }

        function openWindow(windowName) {
            createClickSound();
            
            document.querySelectorAll('.window').forEach(window => {
                window.classList.remove('active');
            });

            const targetWindow = document.getElementById(`window-${windowName}`);
            if (targetWindow) {
                targetWindow.classList.add('active');
                
                const randomX = Math.random() * 100 - 50;
                const randomY = Math.random() * 50 - 25;
                targetWindow.style.left = `${300 + randomX}px`;
                targetWindow.style.top = `${100 + randomY}px`;
            }
        }

        function closeWindow(windowName) {
            createClickSound();
            const targetWindow = document.getElementById(`window-${windowName}`);
            if (targetWindow) {
                targetWindow.classList.remove('active');
            }
        }

        function animate() {
            requestAnimationFrame(animate);

            // Animation cam√©ra fluide
            cameraControls.rotationX += (cameraControls.targetRotationX - cameraControls.rotationX) * 0.08;
            cameraControls.rotationY += (cameraControls.targetRotationY - cameraControls.rotationY) * 0.08;
            cameraControls.distance += (cameraControls.targetDistance - cameraControls.distance) * 0.08;

            // Rotation automatique si activ√©e
            if (autoRotateEnabled) {
                cameraControls.targetRotationX += 0.005;
            }

            camera.position.x = Math.cos(cameraControls.rotationX) * cameraControls.distance * Math.cos(cameraControls.rotationY);
            camera.position.y = Math.sin(cameraControls.rotationY) * cameraControls.distance + 12;
            camera.position.z = Math.sin(cameraControls.rotationX) * cameraControls.distance * Math.cos(cameraControls.rotationY) + 20;

            camera.lookAt(0, 5, 0);

            // Animations √©l√©gantes avec le nouveau th√®me
            const time = Date.now() * 0.0003;

            // Rotation lente du lustre
            if (chandelierMesh) {
                chandelierMesh.rotation.y = time * 0.5;
                
                // Scintillement des cristaux
                chandelierMesh.children.forEach(child => {
                    if (child.material && child.material.emissiveIntensity !== undefined) {
                        child.material.emissiveIntensity = 0.1 + Math.sin(time * 3 + child.position.x) * 0.05;
                    }
                });
            }

            // Pulsation de l'√©cran ordinateur
            if (computerMesh) {
                computerMesh.material.emissiveIntensity = 0.2 + Math.sin(time * 2) * 0.1;
            }

            // Effet de scintillement TV
            if (tvMesh) {
                tvMesh.material.emissiveIntensity = 0.15 + Math.sin(time * 1.5) * 0.08;
            }

         // Animation des flammes de chemin√©e UNIQUEMENT
salon.children.forEach(child => {
    if (child.isGroup) {
        child.children.forEach(subChild => {
            // V√©rifier si c'est une flamme de chemin√©e (pas un livre)
            if (subChild.material && subChild.material.emissive && 
                subChild.material.emissiveIntensity !== undefined &&
                subChild.geometry && subChild.geometry.type === 'ConeGeometry') {
                // Animation seulement pour les flammes (g√©om√©trie en c√¥ne)
                subChild.material.emissiveIntensity = 0.4 + Math.sin(time * 8 + subChild.position.x) * 0.2;
                subChild.scale.y = 1 + Math.sin(time * 6 + subChild.position.z) * 0.1;
            }
        });
    }
});

            renderer.render(scene, camera);
        }

        // Gestion du glisser-d√©poser des fen√™tres
        let draggedWindow = null;
        let dragOffset = { x: 0, y: 0 };

        document.addEventListener('mousedown', (e) => {
            if (e.target.classList.contains('window-header')) {
                draggedWindow = e.target.closest('.window');
                const rect = draggedWindow.getBoundingClientRect();
                dragOffset.x = e.clientX - rect.left;
                dragOffset.y = e.clientY - rect.top;
                e.preventDefault();
            }
        });

        document.addEventListener('mousemove', (e) => {
            if (draggedWindow) {
                draggedWindow.style.left = `${e.clientX - dragOffset.x}px`;
                draggedWindow.style.top = `${e.clientY - dragOffset.y}px`;
                e.preventDefault();
            }
        });

        document.addEventListener('mouseup', () => {
            draggedWindow = null;
        });

        // Navigation clavier am√©lior√©e
        document.addEventListener('keydown', (event) => {
            const computerOverlay = document.getElementById('computerOverlay');
            const tvOverlay = document.getElementById('tvOverlay');

            if (computerOverlay.classList.contains('active')) {
                if (event.key === 'Escape') {
                    closeComputer();
                }
            }

            if (tvOverlay.classList.contains('active')) {
                if (event.key === 'Escape') {
                    closeTV();
                }
            }

            // Raccourcis clavier pour la navigation
            if (!computerOverlay.classList.contains('active') && !tvOverlay.classList.contains('active')) {
                switch(event.key) {
                    case 'r':
                    case 'R':
                        resetCamera();
                        break;
                    case 'c':
                    case 'C':
                        focusComputer();
                        break;
                    case 't':
                    case 'T':
                        focusTV();
                        break;
                    case ' ':
                        event.preventDefault();
                        autoRotate();
                        break;
                }
            }
        });

        // Gestion de l'orientation mobile
        window.addEventListener('orientationchange', () => {
            setTimeout(() => {
                onWindowResize();
            }, 100);
        });

        // Am√©lioration des performances sur mobile
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            // R√©duire la qualit√© des ombres sur mobile
            renderer.shadowMap.type = THREE.BasicShadowMap;
            
            // R√©duire le nombre d'objets pour les performances
            scene.fog = new THREE.Fog(0x59372b, 20, 80);
        }
    </script>
</body>
</html>
